data:
  tables:
    - tablename: sensordata
      columns:
        - id: tsp
          name: Timestamp
          description: Timestamp of Measurement
          path: args[0].timestamp
          dataType: timestamp
        - id: temp1
          name: Temperature
          description: Temperature from DHT11 Sensor in Celcius
          path: args[0].temperature
          dataType: numeric
        - id: humidity
          name: Humidity
          description: Humidity from DHT11 Sensor in %
          path: args[0].humidity
          dataType: numeric
        - id: devname
          name: Device Name
          description: Name of Device
          path: args[0].device_name
          dataType: string
          

  transforms:
    - tablename: myagg # -> crossbar topic from data servcie: transformed.swarm_key.app_key.tablename
      materialize: true
      schedule: "* * * * *"
      # frequency: 1 day
      # crontab: * * * 3
      # trigger: onCall /
      sql: "select max(temp1) as max_temp, avg(temp1) as avg_temp, min(temp1) as min_temp, max(humidity) as max_humidity, avg(humidity) as avg_humidity, min(humidity) as min_humidity from sensordata group by devname"
      columns:
        - id: max_temp
          name: Maximum Temperature
          description: Maximum Temperature of DHT11 Sensor in Celcius
          dataType: numeric # ?? may be data type for storing values: numeric, boolean, timestamp? ....
        - id: avg_temp
          name: Average Temperature
          description: Average Temperature of DHT11 Sensor in Celcius
          dataType: numeric # ?? may be data type for storing values: numeric, boolean, timestamp? ....
        - id: min_temp
          name: Minimum Temperature
          description: Minimum Temperature of DHT11 Sensor in Celcius
          dataType: numeric # ?? may be data type for storing values: numeric, boolean, timestamp? ....
        - id: max_humidity
          name: Maximum humidity
          description: Maximum humidity of DHT11 Sensor in Celcius
          dataType: numeric # ?? may be data type for storing values: numeric, boolean, timestamp? ....
        - id: avg_humidity
          name: Average humidity
          description: Average humidity of DHT11 Sensor in Celcius
          dataType: numeric # ?? may be data type for storing values: numeric, boolean, timestamp? ....
        - id: min_humidity
          name: Minimum humidity
          description: Minimum humidity of DHT11 Sensor in Celcius
          dataType: numeric # ?? may be data type for storing values: numeric, boolean, timestamp? ....
        - id: devname
          name: Device name
          description: device name
          dataType: string